#!/bin/bash

for arg in "$@"; do
    if [[ $arg = "socks-proxy" ]] ; then
        dockerargs=(-p 1080:1080)
    fi
done

if  [[ $# = 0 ]] ; then
    echo "Running shell" 
    exec docker run -t -i ${dockerargs[@]} -v ~/.altus:/root/.altus altus /bin/bash
elif [[ $1 = "altus" ]]; then
    echo "$0 altus <command>: ... extra altus not required, use $0 <command> instead. helping you out this time"
    shift 1
    exec docker run -t -i ${dockerargs[@]} -v ~/.altus:/root/.altus altus altus "$@"
else
    exec docker run -t -i ${dockerargs[@]} -v ~/.altus:/root/.altus altus altus "$@"
fi